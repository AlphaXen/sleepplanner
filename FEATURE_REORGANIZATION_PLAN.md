# 📋 Sleep Planner 기능 재구성 계획

## 현재 문제점
- 홈 화면에 8개의 기능 카드가 나열되어 있어 복잡함
- 관련 기능들이 분산되어 있음 (예: AI 분석, 피드백, 파라미터 설정)
- 야간 근무자 기능이 일반 기능과 섞여 있음
- 설정 관련 기능들이 여러 곳에 분산

## 🎯 제안하는 새로운 구조

### 1. **홈 화면 단순화** (4-5개 주요 카테고리)
```
┌─────────────────────────────────┐
│   Sleep Planner                 │
├─────────────────────────────────┤
│  📊 오늘의 수면 현황            │
│  [진행률 원형 차트]              │
├─────────────────────────────────┤
│  🎯 주요 기능 (탭 또는 카테고리) │
│  ┌─────────┬─────────┐         │
│  │ 수면 관리│ AI 분석 │         │
│  ├─────────┼─────────┤         │
│  │ 환경     │ 설정    │         │
│  └─────────┴─────────┘         │
│  (야간 근무자는 추가 탭)         │
└─────────────────────────────────┘
```

### 2. **카테고리별 통합**

#### 📊 **수면 관리** (Sleep Management)
통합 화면: `SleepManagementScreen`
- 수면 기록 추가/조회
- 통계 및 그래프 (기존 StatsScreen 통합)
- 달력 뷰 (기존 CalendarScreen 통합)
- 일일 계획 (기존 DailyPlanScreen 통합)

#### 🤖 **AI 분석** (AI Analysis)
통합 화면: `AIAnalysisScreen` (기존 AISleepAnalysisScreen 확장)
- AI 분석 대시보드
- 수면 피드백 (기존 SleepFeedbackScreen 통합)
- 적응형 파라미터 설정 (기존 AdaptiveParamsSettingsScreen 통합)
- 수면 팁 (기존 DailySuggestionsScreen 통합)

#### 🌙 **수면 환경** (Sleep Environment)
통합 화면: `SleepEnvironmentScreen`
- 환경 체커 (기존 EnvironmentCheckerScreen)
- 조명 제어 (기존 LightControlScreen)
- 수면 음악 (기존 SleepMusicScreen)
- 알람 (기존 AlarmScreen)

#### ⚙️ **설정** (Settings)
통합 화면: `SettingsScreen`
- 프로필 (기존 ProfileScreen)
- 자동 응답 설정 (기존 AutoReplySettingsScreen)
- 연락처 필터 (기존 ContactFilterScreen)
- 기타 설정

#### 🏭 **야간 근무자** (Shift Worker) - 선택적
기존 `ShiftWorkerDashboardScreen` 유지
- 야간 근무자 대시보드
- 주간 스케줄 (기존 WeeklyScheduleScreen)
- 근무 입력 (기존 ShiftInputScreen)

## 🔄 구현 방법

### 옵션 1: 탭 기반 네비게이션 (추천)
```dart
BottomNavigationBar 또는 TabBar
- 홈 (수면 현황)
- 수면 관리
- AI 분석
- 환경
- 설정
```

### 옵션 2: 카테고리 카드 + 하위 화면
```dart
홈 화면에 4-5개 카테고리 카드
각 카테고리 클릭 시 통합 화면으로 이동
```

### 옵션 3: 드로어 메뉴
```dart
AppBar에 메뉴 아이콘
드로어에서 카테고리 선택
```

## 📝 구체적인 통합 계획

### 1. 수면 관리 화면 통합
- 상단: 오늘의 수면 현황
- 탭 1: 기록 (수면 기록 리스트)
- 탭 2: 통계 (그래프 및 통계)
- 탭 3: 달력 (월별 뷰)
- 탭 4: 계획 (일일 계획)

### 2. AI 분석 화면 통합
- 상단: AI 분석 대시보드
- 탭 1: 분석 (현재 AI 분석)
- 탭 2: 피드백 (수면 피드백)
- 탭 3: 파라미터 (적응형 파라미터)
- 탭 4: 팁 (수면 팁)

### 3. 수면 환경 화면 통합
- 상단: 환경 요약
- 그리드: 환경 체커, 조명, 음악, 알람

### 4. 설정 화면 통합
- 리스트 형태로 모든 설정 항목 표시
- 섹션별로 구분

## ✅ 장점
1. **사용자 경험 개선**: 관련 기능들이 한 곳에 모여 있어 찾기 쉬움
2. **화면 단순화**: 홈 화면이 깔끔해짐
3. **확장성**: 새로운 기능 추가 시 적절한 카테고리에 추가 가능
4. **일관성**: 유사한 기능들이 논리적으로 그룹화됨

## 🚀 구현 우선순위
1. **1단계**: 홈 화면 카테고리화 (4-5개 카드로 축소)
2. **2단계**: 수면 관리 화면 통합
3. **3단계**: AI 분석 화면 통합
4. **4단계**: 수면 환경 화면 통합
5. **5단계**: 설정 화면 통합

